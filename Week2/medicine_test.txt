sat
(
  (define-fun ExactlyThreeForAllRounds () Bool
    (let ((a!1 (= (N_rows 1)
              (+ (ite (T 1 1) 1 0)
                 (ite (T 1 2) 1 0)
                 (ite (T 1 3) 1 0)
                 (ite (T 1 4) 1 0)
                 (ite (T 1 5) 1 0)
                 (ite (T 1 6) 1 0)
                 (ite (T 1 7) 1 0))))
      (a!2 (= (N_rows 2)
              (+ (ite (T 2 1) 1 0)
                 (ite (T 2 2) 1 0)
                 (ite (T 2 3) 1 0)
                 (ite (T 2 4) 1 0)
                 (ite (T 2 5) 1 0)
                 (ite (T 2 6) 1 0)
                 (ite (T 2 7) 1 0))))
      (a!3 (= (N_rows 3)
              (+ (ite (T 3 1) 1 0)
                 (ite (T 3 2) 1 0)
                 (ite (T 3 3) 1 0)
                 (ite (T 3 4) 1 0)
                 (ite (T 3 5) 1 0)
                 (ite (T 3 6) 1 0)
                 (ite (T 3 7) 1 0))))
      (a!4 (= (N_rows 4)
              (+ (ite (T 4 1) 1 0)
                 (ite (T 4 2) 1 0)
                 (ite (T 4 3) 1 0)
                 (ite (T 4 4) 1 0)
                 (ite (T 4 5) 1 0)
                 (ite (T 4 6) 1 0)
                 (ite (T 4 7) 1 0))))
      (a!5 (= (N_rows 5)
              (+ (ite (T 5 1) 1 0)
                 (ite (T 5 2) 1 0)
                 (ite (T 5 3) 1 0)
                 (ite (T 5 4) 1 0)
                 (ite (T 5 5) 1 0)
                 (ite (T 5 6) 1 0)
                 (ite (T 5 7) 1 0))))
      (a!6 (= (N_rows 6)
              (+ (ite (T 6 1) 1 0)
                 (ite (T 6 2) 1 0)
                 (ite (T 6 3) 1 0)
                 (ite (T 6 4) 1 0)
                 (ite (T 6 5) 1 0)
                 (ite (T 6 6) 1 0)
                 (ite (T 6 7) 1 0))))
      (a!7 (= (N_rows 7)
              (+ (ite (T 7 1) 1 0)
                 (ite (T 7 2) 1 0)
                 (ite (T 7 3) 1 0)
                 (ite (T 7 4) 1 0)
                 (ite (T 7 5) 1 0)
                 (ite (T 7 6) 1 0)
                 (ite (T 7 7) 1 0)))))
  (and a!1
       (= (N_rows 1) 3)
       a!2
       (= (N_rows 2) 3)
       a!3
       (= (N_rows 3) 3)
       a!4
       (= (N_rows 4) 3)
       a!5
       (= (N_rows 5) 3)
       a!6
       (= (N_rows 6) 3)
       a!7
       (= (N_rows 7) 3))))
  (define-fun ExactlyThreeForAllMeds () Bool
    (let ((a!1 (= (N_meds 1)
              (+ (ite (T 1 1) 1 0)
                 (ite (T 2 1) 1 0)
                 (ite (T 3 1) 1 0)
                 (ite (T 4 1) 1 0)
                 (ite (T 5 1) 1 0)
                 (ite (T 6 1) 1 0)
                 (ite (T 7 1) 1 0))))
      (a!2 (= (N_meds 2)
              (+ (ite (T 1 2) 1 0)
                 (ite (T 2 2) 1 0)
                 (ite (T 3 2) 1 0)
                 (ite (T 4 2) 1 0)
                 (ite (T 5 2) 1 0)
                 (ite (T 6 2) 1 0)
                 (ite (T 7 2) 1 0))))
      (a!3 (= (N_meds 3)
              (+ (ite (T 1 3) 1 0)
                 (ite (T 2 3) 1 0)
                 (ite (T 3 3) 1 0)
                 (ite (T 4 3) 1 0)
                 (ite (T 5 3) 1 0)
                 (ite (T 6 3) 1 0)
                 (ite (T 7 3) 1 0))))
      (a!4 (= (N_meds 4)
              (+ (ite (T 1 4) 1 0)
                 (ite (T 2 4) 1 0)
                 (ite (T 3 4) 1 0)
                 (ite (T 4 4) 1 0)
                 (ite (T 5 4) 1 0)
                 (ite (T 6 4) 1 0)
                 (ite (T 7 4) 1 0))))
      (a!5 (= (N_meds 5)
              (+ (ite (T 1 5) 1 0)
                 (ite (T 2 5) 1 0)
                 (ite (T 3 5) 1 0)
                 (ite (T 4 5) 1 0)
                 (ite (T 5 5) 1 0)
                 (ite (T 6 5) 1 0)
                 (ite (T 7 5) 1 0))))
      (a!6 (= (N_meds 6)
              (+ (ite (T 1 6) 1 0)
                 (ite (T 2 6) 1 0)
                 (ite (T 3 6) 1 0)
                 (ite (T 4 6) 1 0)
                 (ite (T 5 6) 1 0)
                 (ite (T 6 6) 1 0)
                 (ite (T 7 6) 1 0))))
      (a!7 (= (N_meds 7)
              (+ (ite (T 1 7) 1 0)
                 (ite (T 2 7) 1 0)
                 (ite (T 3 7) 1 0)
                 (ite (T 4 7) 1 0)
                 (ite (T 5 7) 1 0)
                 (ite (T 6 7) 1 0)
                 (ite (T 7 7) 1 0)))))
  (and a!1
       (= (N_meds 1) 3)
       a!2
       (= (N_meds 2) 3)
       a!3
       (= (N_meds 3) 3)
       a!4
       (= (N_meds 4) 3)
       a!5
       (= (N_meds 5) 3)
       a!6
       (= (N_meds 6) 3)
       a!7
       (= (N_meds 7) 3))))
  (define-fun NoTwoPairsInAllRounds () Bool
    (let ((a!1 (+ (ite (and (T 1 1) (T 2 1)) 1 0)
              (ite (and (T 1 2) (T 2 2)) 1 0)
              (ite (and (T 1 3) (T 2 3)) 1 0)
              (ite (and (T 1 4) (T 2 4)) 1 0)
              (ite (and (T 1 5) (T 2 5)) 1 0)
              (ite (and (T 1 6) (T 2 6)) 1 0)
              (ite (and (T 1 7) (T 2 7)) 1 0)))
      (a!2 (+ (ite (and (T 1 1) (T 3 1)) 1 0)
              (ite (and (T 1 2) (T 3 2)) 1 0)
              (ite (and (T 1 3) (T 3 3)) 1 0)
              (ite (and (T 1 4) (T 3 4)) 1 0)
              (ite (and (T 1 5) (T 3 5)) 1 0)
              (ite (and (T 1 6) (T 3 6)) 1 0)
              (ite (and (T 1 7) (T 3 7)) 1 0)))
      (a!3 (+ (ite (and (T 1 1) (T 4 1)) 1 0)
              (ite (and (T 1 2) (T 4 2)) 1 0)
              (ite (and (T 1 3) (T 4 3)) 1 0)
              (ite (and (T 1 4) (T 4 4)) 1 0)
              (ite (and (T 1 5) (T 4 5)) 1 0)
              (ite (and (T 1 6) (T 4 6)) 1 0)
              (ite (and (T 1 7) (T 4 7)) 1 0)))
      (a!4 (+ (ite (and (T 1 1) (T 5 1)) 1 0)
              (ite (and (T 1 2) (T 5 2)) 1 0)
              (ite (and (T 1 3) (T 5 3)) 1 0)
              (ite (and (T 1 4) (T 5 4)) 1 0)
              (ite (and (T 1 5) (T 5 5)) 1 0)
              (ite (and (T 1 6) (T 5 6)) 1 0)
              (ite (and (T 1 7) (T 5 7)) 1 0)))
      (a!5 (+ (ite (and (T 1 1) (T 6 1)) 1 0)
              (ite (and (T 1 2) (T 6 2)) 1 0)
              (ite (and (T 1 3) (T 6 3)) 1 0)
              (ite (and (T 1 4) (T 6 4)) 1 0)
              (ite (and (T 1 5) (T 6 5)) 1 0)
              (ite (and (T 1 6) (T 6 6)) 1 0)
              (ite (and (T 1 7) (T 6 7)) 1 0)))
      (a!6 (+ (ite (and (T 1 1) (T 7 1)) 1 0)
              (ite (and (T 1 2) (T 7 2)) 1 0)
              (ite (and (T 1 3) (T 7 3)) 1 0)
              (ite (and (T 1 4) (T 7 4)) 1 0)
              (ite (and (T 1 5) (T 7 5)) 1 0)
              (ite (and (T 1 6) (T 7 6)) 1 0)
              (ite (and (T 1 7) (T 7 7)) 1 0)))
      (a!7 (+ (ite (and (T 2 1) (T 3 1)) 1 0)
              (ite (and (T 2 2) (T 3 2)) 1 0)
              (ite (and (T 2 3) (T 3 3)) 1 0)
              (ite (and (T 2 4) (T 3 4)) 1 0)
              (ite (and (T 2 5) (T 3 5)) 1 0)
              (ite (and (T 2 6) (T 3 6)) 1 0)
              (ite (and (T 2 7) (T 3 7)) 1 0)))
      (a!8 (+ (ite (and (T 2 1) (T 4 1)) 1 0)
              (ite (and (T 2 2) (T 4 2)) 1 0)
              (ite (and (T 2 3) (T 4 3)) 1 0)
              (ite (and (T 2 4) (T 4 4)) 1 0)
              (ite (and (T 2 5) (T 4 5)) 1 0)
              (ite (and (T 2 6) (T 4 6)) 1 0)
              (ite (and (T 2 7) (T 4 7)) 1 0)))
      (a!9 (+ (ite (and (T 2 1) (T 5 1)) 1 0)
              (ite (and (T 2 2) (T 5 2)) 1 0)
              (ite (and (T 2 3) (T 5 3)) 1 0)
              (ite (and (T 2 4) (T 5 4)) 1 0)
              (ite (and (T 2 5) (T 5 5)) 1 0)
              (ite (and (T 2 6) (T 5 6)) 1 0)
              (ite (and (T 2 7) (T 5 7)) 1 0)))
      (a!10 (+ (ite (and (T 2 1) (T 6 1)) 1 0)
               (ite (and (T 2 2) (T 6 2)) 1 0)
               (ite (and (T 2 3) (T 6 3)) 1 0)
               (ite (and (T 2 4) (T 6 4)) 1 0)
               (ite (and (T 2 5) (T 6 5)) 1 0)
               (ite (and (T 2 6) (T 6 6)) 1 0)
               (ite (and (T 2 7) (T 6 7)) 1 0)))
      (a!11 (+ (ite (and (T 2 1) (T 7 1)) 1 0)
               (ite (and (T 2 2) (T 7 2)) 1 0)
               (ite (and (T 2 3) (T 7 3)) 1 0)
               (ite (and (T 2 4) (T 7 4)) 1 0)
               (ite (and (T 2 5) (T 7 5)) 1 0)
               (ite (and (T 2 6) (T 7 6)) 1 0)
               (ite (and (T 2 7) (T 7 7)) 1 0)))
      (a!12 (+ (ite (and (T 3 1) (T 4 1)) 1 0)
               (ite (and (T 3 2) (T 4 2)) 1 0)
               (ite (and (T 3 3) (T 4 3)) 1 0)
               (ite (and (T 3 4) (T 4 4)) 1 0)
               (ite (and (T 3 5) (T 4 5)) 1 0)
               (ite (and (T 3 6) (T 4 6)) 1 0)
               (ite (and (T 3 7) (T 4 7)) 1 0)))
      (a!13 (+ (ite (and (T 3 1) (T 5 1)) 1 0)
               (ite (and (T 3 2) (T 5 2)) 1 0)
               (ite (and (T 3 3) (T 5 3)) 1 0)
               (ite (and (T 3 4) (T 5 4)) 1 0)
               (ite (and (T 3 5) (T 5 5)) 1 0)
               (ite (and (T 3 6) (T 5 6)) 1 0)
               (ite (and (T 3 7) (T 5 7)) 1 0)))
      (a!14 (+ (ite (and (T 3 1) (T 6 1)) 1 0)
               (ite (and (T 3 2) (T 6 2)) 1 0)
               (ite (and (T 3 3) (T 6 3)) 1 0)
               (ite (and (T 3 4) (T 6 4)) 1 0)
               (ite (and (T 3 5) (T 6 5)) 1 0)
               (ite (and (T 3 6) (T 6 6)) 1 0)
               (ite (and (T 3 7) (T 6 7)) 1 0)))
      (a!15 (+ (ite (and (T 3 1) (T 7 1)) 1 0)
               (ite (and (T 3 2) (T 7 2)) 1 0)
               (ite (and (T 3 3) (T 7 3)) 1 0)
               (ite (and (T 3 4) (T 7 4)) 1 0)
               (ite (and (T 3 5) (T 7 5)) 1 0)
               (ite (and (T 3 6) (T 7 6)) 1 0)
               (ite (and (T 3 7) (T 7 7)) 1 0)))
      (a!16 (+ (ite (and (T 4 1) (T 5 1)) 1 0)
               (ite (and (T 4 2) (T 5 2)) 1 0)
               (ite (and (T 4 3) (T 5 3)) 1 0)
               (ite (and (T 4 4) (T 5 4)) 1 0)
               (ite (and (T 4 5) (T 5 5)) 1 0)
               (ite (and (T 4 6) (T 5 6)) 1 0)
               (ite (and (T 4 7) (T 5 7)) 1 0)))
      (a!17 (+ (ite (and (T 4 1) (T 6 1)) 1 0)
               (ite (and (T 4 2) (T 6 2)) 1 0)
               (ite (and (T 4 3) (T 6 3)) 1 0)
               (ite (and (T 4 4) (T 6 4)) 1 0)
               (ite (and (T 4 5) (T 6 5)) 1 0)
               (ite (and (T 4 6) (T 6 6)) 1 0)
               (ite (and (T 4 7) (T 6 7)) 1 0)))
      (a!18 (+ (ite (and (T 4 1) (T 7 1)) 1 0)
               (ite (and (T 4 2) (T 7 2)) 1 0)
               (ite (and (T 4 3) (T 7 3)) 1 0)
               (ite (and (T 4 4) (T 7 4)) 1 0)
               (ite (and (T 4 5) (T 7 5)) 1 0)
               (ite (and (T 4 6) (T 7 6)) 1 0)
               (ite (and (T 4 7) (T 7 7)) 1 0)))
      (a!19 (+ (ite (and (T 5 1) (T 6 1)) 1 0)
               (ite (and (T 5 2) (T 6 2)) 1 0)
               (ite (and (T 5 3) (T 6 3)) 1 0)
               (ite (and (T 5 4) (T 6 4)) 1 0)
               (ite (and (T 5 5) (T 6 5)) 1 0)
               (ite (and (T 5 6) (T 6 6)) 1 0)
               (ite (and (T 5 7) (T 6 7)) 1 0)))
      (a!20 (+ (ite (and (T 5 1) (T 7 1)) 1 0)
               (ite (and (T 5 2) (T 7 2)) 1 0)
               (ite (and (T 5 3) (T 7 3)) 1 0)
               (ite (and (T 5 4) (T 7 4)) 1 0)
               (ite (and (T 5 5) (T 7 5)) 1 0)
               (ite (and (T 5 6) (T 7 6)) 1 0)
               (ite (and (T 5 7) (T 7 7)) 1 0)))
      (a!21 (+ (ite (and (T 6 1) (T 7 1)) 1 0)
               (ite (and (T 6 2) (T 7 2)) 1 0)
               (ite (and (T 6 3) (T 7 3)) 1 0)
               (ite (and (T 6 4) (T 7 4)) 1 0)
               (ite (and (T 6 5) (T 7 5)) 1 0)
               (ite (and (T 6 6) (T 7 6)) 1 0)
               (ite (and (T 6 7) (T 7 7)) 1 0))))
  (and (= (N_pairs 1 2) a!1)
       (< (N_pairs 1 2) 2)
       (= (N_pairs 1 3) a!2)
       (< (N_pairs 1 3) 2)
       (= (N_pairs 1 4) a!3)
       (< (N_pairs 1 4) 2)
       (= (N_pairs 1 5) a!4)
       (< (N_pairs 1 5) 2)
       (= (N_pairs 1 6) a!5)
       (< (N_pairs 1 6) 2)
       (= (N_pairs 1 7) a!6)
       (< (N_pairs 1 7) 2)
       (= (N_pairs 2 3) a!7)
       (< (N_pairs 2 3) 2)
       (= (N_pairs 2 4) a!8)
       (< (N_pairs 2 4) 2)
       (= (N_pairs 2 5) a!9)
       (< (N_pairs 2 5) 2)
       (= (N_pairs 2 6) a!10)
       (< (N_pairs 2 6) 2)
       (= (N_pairs 2 7) a!11)
       (< (N_pairs 2 7) 2)
       (= (N_pairs 3 4) a!12)
       (< (N_pairs 3 4) 2)
       (= (N_pairs 3 5) a!13)
       (< (N_pairs 3 5) 2)
       (= (N_pairs 3 6) a!14)
       (< (N_pairs 3 6) 2)
       (= (N_pairs 3 7) a!15)
       (< (N_pairs 3 7) 2)
       (= (N_pairs 4 5) a!16)
       (< (N_pairs 4 5) 2)
       (= (N_pairs 4 6) a!17)
       (< (N_pairs 4 6) 2)
       (= (N_pairs 4 7) a!18)
       (< (N_pairs 4 7) 2)
       (= (N_pairs 5 6) a!19)
       (< (N_pairs 5 6) 2)
       (= (N_pairs 5 7) a!20)
       (< (N_pairs 5 7) 2)
       (= (N_pairs 6 7) a!21)
       (< (N_pairs 6 7) 2))))
  (define-fun T ((x!0 Int) (x!1 Int)) Bool
    (ite (and (= x!0 1) (= x!1 7)) true
    (ite (and (= x!0 1) (= x!1 5)) true
    (ite (and (= x!0 1) (= x!1 6)) true
    (ite (and (= x!0 2) (= x!1 3)) true
    (ite (and (= x!0 2) (= x!1 4)) true
    (ite (and (= x!0 2) (= x!1 6)) true
    (ite (and (= x!0 3) (= x!1 1)) true
    (ite (and (= x!0 3) (= x!1 2)) true
    (ite (and (= x!0 3) (= x!1 6)) true
    (ite (and (= x!0 4) (= x!1 1)) true
    (ite (and (= x!0 4) (= x!1 3)) true
    (ite (and (= x!0 4) (= x!1 5)) true
    (ite (and (= x!0 5) (= x!1 2)) true
    (ite (and (= x!0 5) (= x!1 4)) true
    (ite (and (= x!0 5) (= x!1 5)) true
    (ite (and (= x!0 6) (= x!1 7)) true
    (ite (and (= x!0 6) (= x!1 1)) true
    (ite (and (= x!0 6) (= x!1 4)) true
    (ite (and (= x!0 7) (= x!1 7)) true
    (ite (and (= x!0 7) (= x!1 2)) true
    (ite (and (= x!0 7) (= x!1 3)) true
      false))))))))))))))))))))))
  (define-fun N_meds ((x!0 Int)) Int
    3)
  (define-fun N_pairs ((x!0 Int) (x!1 Int)) Int
    1)
  (define-fun N_rows ((x!0 Int)) Int
    3)
)
